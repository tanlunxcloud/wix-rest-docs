{"name":"Email Subscriptions","memberOf":"All APIs","category":"core","mixes":[],"labels":[],"docs":{"summary":"","description":[]},"properties":[],"tags":[{"name":"Email Subscriptions","entity":"_com_wixpress_emailsubscriptions_v1_EmailSubscription"}],"relatedGuides":[{"path":"../guides/email-subscriptions/docs/example-flows.md","name":"Example Flows"},{"path":"../guides/email-subscriptions/docs/intro.md","name":"Introduction"}],"operations":[{"name":"Bulk Upsert Email Subscription","methodName":"BulkUpsertEmailSubscription","serviceName":"EmailSubscriptionsService","tag":"Email Subscriptions","permissions":[{"name":"Manage Email Subscriptions","description":"Request permission to read and modify the subscription status for email addresses."}],"events":[],"labels":[],"nameParams":[],"requiredFields":["subscriptions"],"params":[{"in":"BODY","name":"subscriptions","type":{"name":"array","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_EmailSubscription"]},"doc":" List of email subscriptions to update or create.\n","required":true}],"ret":{"type":{"name":"BulkUpsertEmailSubscription","statusCode":"200","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionResponse"]},"doc":""},"locations":[],"docs":{"summary":" Updates or creates multiple email subscriptions.\n \n","description":[],"request":"POST","url":"https://www.wixapis.com/email-marketing/v1/email-subscriptions/bulk","links":[],"examples":[{"title":"Update or Create Multiple Subscriptions","body":["curl -X POST \\\n  'https://www.wixapis.com/email-marketing/v1/email-subscriptions/bulk' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: <AUTH>' \\\n  --data-binary '{\n    \"subscriptions\":   [\n      {\n        \"email\": \"lead-1@new-contact.com\",\n        \"subscriptionStatus\": \"PENDING\",\n        \"deliverabilityStatus\": \"VALID\"\n      },\n      {\n        \"email\": \"lead-2@existing-contact.com\",\n        \"subscriptionStatus\": \"UNSUBSCRIBED\",\n      },\n      {\n        \"email\": \"lead-3@new-contact-default-statuses.org\"\n      }\n    ]\n  }'"],"response":["{\"subscriptions\": [\n    {\n    \"email\": \"lead-1@new-contact.com\",\n    \"subscriptionStatus\": \"PENDING\",\n    \"deliverabilityStatus\": \"VALID\"\n  },\n    {\n    \"email\": \"lead-2@existing-contact.com\",\n    \"subscriptionStatus\": \"UNSUBSCRIBED\",\n    \"deliverabilityStatus\": \"NOT_SET\"\n  },\n    {\n    \"email\": \"lead-3@new-contact-default-statuses.org\",\n    \"subscriptionStatus\": \"NOT_SET\",\n    \"deliverabilityStatus\": \"NOT_SET\"\n  }\n]} "],"type":"curl","extra":{}}],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"BulkUpsertEmailSubscriptionRequest","rpcResponseName":"BulkUpsertEmailSubscriptionResponse"},"customLabels":[{"id":"maturity-beta"}]},{"name":"Generate Unsubscribe Link","methodName":"GenerateUnsubscribeLink","serviceName":"EmailSubscriptionsService","tag":"Email Subscriptions","permissions":[{"name":"Manage Email Subscriptions","description":"Request permission to read and modify the subscription status for email addresses."}],"events":[],"labels":[],"nameParams":[],"requiredFields":["emailAddress"],"params":[{"in":"BODY","name":"emailAddress","type":"string","doc":" Email address the unsubscribe link is for.\n","required":true}],"ret":{"type":{"name":"GenerateUnsubscribeLink","statusCode":"200","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_GenerateUnsubscribeLinkResponse"]},"doc":""},"locations":[],"docs":{"summary":" Creates an unsubscribe link to be shared with the relevant recipient.\n\n If someone clicks the **Unsubscribe** button on the confirmation page,\n the recipient's `subscriptionStatus` is changed to `UNSUBSCRIBED`.\n \n","description":[],"request":"POST","url":"https://www.wixapis.com/email-marketing/v1/email-subscriptions/unsubscribe-link","links":[],"examples":[{"title":"Generate Unsubscribe Link","body":["curl -X POST \\\n  'https://www.wixapis.com/email-marketing/v1/email-subscriptions/query' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: <AUTH>' \\\n  --data-binary '{\n    \"emailAddress\": \"unsubscribed-contact@company.com\"\n  }'"],"response":["{\"link\": \"http://www.wix.com/my-account/contacts/unsubscribe?metaSiteId=15768406-31e8-5562-8d85-9e6dca275518&unsubscribeToken=1863f39b729f518e891706fbd8c3561c450d7de1ff485759a4f7a3b0d1af1155a8dec64cf29259a691f6cd194ed4d1e4211cb253821d5c31a5ed677d7c2e58cc24d41f9af27a592080d01f69c0e2f5fd4751762090fa522c93b3f3933a7c5871a8347da955755ae2a66a04fe6bae890d103b10e885ca564ebf62edb425016519574503bead5f5411aa81d3aafc3807953771bc3c51255b879a53a45a6e99a83f37634480246959c2aa2e4cd4febbb984ececaeeb3a915823a5a1c65506e036e3b03915c8c29e5bb48d3e4a103d238f270cca1e47b63953869adc806769a71934c85e54f2ff0c51a4b28d448c578788ce46e77663d54151c38eeb8b9050782d8b7639e10094d8502091fe5a11f7e61bdf3b058f33d2fd57639dee08e96ca0765ea22c6447cab951038b058557fcbf259b1556174890a353c2afcb62bb48429f3807052b6347875a7c8a176a0790698ced\"} "],"type":"curl","extra":{}}],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"GenerateUnsubscribeLinkRequest","rpcResponseName":"GenerateUnsubscribeLinkResponse"},"customLabels":[{"id":"maturity-beta"}]},{"name":"Query Email Subscriptions","methodName":"QueryEmailSubscriptions","serviceName":"EmailSubscriptionsService","tag":"Email Subscriptions","permissions":[{"name":"Manage Email Subscriptions","description":"Request permission to read and modify the subscription status for email addresses."}],"events":[],"labels":[],"nameParams":[],"requiredFields":["filter"],"params":[{"in":"BODY","name":"filter","type":"struct","doc":" Filter options.\n Currently, querying is supported on the `email` field\n with the `$in` array filter.\n","required":true},{"in":"BODY","name":"paging","type":"All APIs.Email Subscriptions._wix_common_Paging","doc":" Pagination options. For more information, see\n [Pagination](https://dev.wix.com/api/rest/getting-started/pagination).\n","required":false}],"ret":{"type":{"name":"QueryEmailSubscriptions","statusCode":"200","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_QueryEmailSubscriptionsResponse"]},"doc":""},"locations":[],"docs":{"summary":" Retrieves email subscriptions,\n given the provided paging, filtering, and sorting.\n\n Currently, querying is supported on the `email` field\n with the `$in` array filter.\n For example, to query for emails \"me@my.com\" and \"you@your.org\",\n the filter should be formed like this:\n\n ```json\n { \"filter\": {\n     \"email\": {\n       \"$in\": [\"me@my.com\", \"you@your.org\"]\n     }\n   }\n }\n ```\n\n To learn how to query email subscriptions, see\n [API Query Language](https://dev.wix.com/api/rest/getting-started/api-query-language).\n \n","description":[],"request":"POST","url":"https://www.wixapis.com/email-marketing/v1/email-subscriptions/query","links":[],"examples":[{"title":"Find Subscriptions for the Requested Email Addresses","body":["curl -X POST \\\n  'https://www.wixapis.com/email-marketing/v1/email-subscriptions/query' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: <AUTH>' \\\n  --data-binary '{\n    \"filter\":   {\n      \"email\": { \"$in\": [\"email-1@query.com\", \"email-2@query.com\"] }\n      },\n      \"paging\": {\n        \"limit\": 30,\n        \"offset\": 30\n      }\n  }'"],"response":["{\n  \"email_subscriptions\":   [\n        {\n      \"email\": \"email-1@query.com\",\n      \"subscriptionStatus\": \"SUBSCRIBED\",\n      \"deliverabilityStatus\": \"VALID\"\n    },\n        {\n      \"email\": \"email-2@query.com\",\n      \"subscriptionStatus\": \"PENDING\",\n      \"deliverabilityStatus\": \"BOUNCED\"\n    }\n  ],\n  \"metadata\":   {\n    \"count\": 2,\n    \"offset\": 30,\n    \"total\": 32\n  }\n} "],"type":"curl","extra":{}}],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"QueryEmailSubscriptionsRequest","rpcResponseName":"QueryEmailSubscriptionsResponse"},"customLabels":[{"id":"maturity-beta"}]},{"name":"Upsert Email Subscription","methodName":"UpsertEmailSubscription","serviceName":"EmailSubscriptionsService","tag":"Email Subscriptions","permissions":[{"name":"Manage Email Subscriptions","description":"Request permission to read and modify the subscription status for email addresses."}],"events":[],"labels":[],"nameParams":[],"requiredFields":["subscription.email"],"params":[{"in":"BODY","name":"subscription","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_EmailSubscription","doc":" Email subscription to update or create.\n","required":false}],"ret":{"type":{"name":"UpsertEmailSubscription","statusCode":"200","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_UpsertEmailSubscriptionResponse"]},"doc":""},"locations":[],"docs":{"summary":" Updates or creates an email subscription for the requested email.\n\n An email subscription is always returned in the response,\n regardless of whether it was updated or created.\n \n","description":[],"request":"POST","url":"https://www.wixapis.com/email-marketing/v1/email-subscriptions","links":[],"examples":[{"title":"Update or Create an Email Subscription","body":["curl -X POST \\\n  'https://www.wixapis.com/email-marketing/v1/email-subscriptions' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: <AUTH>' \\\n  --data-binary '{\n    \"subscription\":   {\n        \"email\": \"email@test.com\",\n        \"subscriptionStatus\": \"SUBSCRIBED\",\n        \"deliverabilityStatus\": \"VALID\"\n    }\n  }'"],"response":["{\"subscription\": {\n  \"email\": \"email1@test.com\",\n  \"subscriptionStatus\": \"SUBSCRIBED\",\n  \"deliverabilityStatus\": \"VALID\"\n}} "],"type":"curl","extra":{}}],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"UpsertEmailSubscriptionRequest","rpcResponseName":"UpsertEmailSubscriptionResponse"},"customLabels":[{"id":"maturity-beta"}]}],"events":[{"type":"_com_wixpress_emailsubscriptions_v1_EmailSubscriptionChanged","name":"Email Subscription Changed Webhook","docs":{"summary":" Triggered when an email subscription's status is changed.\n"},"topic":"email-marketing.email-subscriptions.changed","tag":"Email Subscriptions","permissions":[{"name":"Manage Email Subscriptions","description":"Request permission to read and modify the subscription status for email addresses."}],"customLabels":[{"id":"maturity-beta"}]}],"callbacks":[],"messages":[{"name":"_com_wixpress_emailsubscriptions_v1_EmailSubscription","displayName":"Email Subscription Object","locations":[],"docs":{"summary":"","links":[],"examples":[{"title":"","body":["{\n  \"email\": \"them@theircompany.com\",\n  \"subscriptionStatus\": \"SUBSCRIBED\",\n  \"deliverabilityStatus\": \"VALID\"\n} "],"type":"json","extra":{}}]},"members":[{"name":"email","type":"string","doc":" Email address.\n"},{"name":"subscriptionStatus","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_SubscriptionEnum_Status","doc":" Indicates the recipient's opt-in or opt-out status\n for marketing emails.\n\n - `NOT_SET`: No status specified.\n - `PENDING`: Subscription confirmation was requested,\n    but recipient hasn't confirmed yet.\n - `SUBSCRIBED`: Recipient has opted in to marketing emails.\n - `UNSUBSCRIBED`: Recipient has opted out of marketing emails.\n\n Defaults to `NOT_SET`.\n"},{"name":"deliverabilityStatus","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_DeliverabilityEnum_Status","doc":" Indicates last reported status of sent emails.\n\n - `NOT_SET`: No status specified.\n - `VALID`: Emails haven't bounced,\n    but the recipient hasn't actively subscribed or unsubscribed.\n - `BOUNCED`: The last email to the recipient bounced or was rejected.\n - `SPAM_COMPLAINT`: Recipient registered a spam complaint\n    with their email provider.\n - `INACTIVE`: No activity has been reported.\n\n Defaults to `NOT_SET`.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_EmailSubscriptionChanged","displayName":"Email Subscription Changed Object","locations":[],"docs":{"summary":"","links":[],"examples":[{"title":"","body":["{\"subscription\": {\n  \"email\": \"someone-else@theircompany.com\",\n  \"subscriptionStatus\": \"UNSUBSCRIBED\",\n  \"deliverabilityStatus\": \"VALID\"\n}} "],"type":"json","extra":{}}]},"members":[{"name":"subscription","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_EmailSubscription","doc":""}],"enum":null,"extra":{},"labels":[]},{"name":"_google_protobuf_Empty","displayName":"Empty Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[],"enum":null,"extra":{},"labels":[]},{"name":"_wix_common_Paging","displayName":"Paging Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"limit","type":"integer","doc":" The number of items to load\n"},{"name":"offset","type":"integer","doc":" number of items to skip in the current sort order\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_common_PagingMetadata","displayName":"Paging Metadata Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"count","type":"integer","doc":" The number of items returned in this response\n"},{"name":"offset","type":"integer","doc":" The offset which was requested\n"},{"name":"total","type":"integer","doc":" The total number of items that match the query\n"},{"name":"tooManyToCount","type":"boolean","doc":" A flag that indicates the server failed to calculate 'total' field\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_LegacyContactChangedEvent","displayName":"Legacy Contact Changed Event Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"notificationAction","type":"string","doc":""},{"name":"contactChangedEventDetails","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_NotificationData","doc":""},{"name":"contactPreviousDetails","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_NotificationData","doc":""},{"name":"metaSiteId","type":"string","doc":""}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_NotificationData","displayName":"Notification Data Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"emails","type":{"name":"array","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_LegacyEmailData"]},"doc":""}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_LegacyEmailData","displayName":"Legacy Email Data Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"email","type":"string","doc":""},{"name":"emailStatus","type":"string","doc":""},{"name":"deliveryStatus","type":"string","doc":""}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_QueryEmailSubscriptionsRequest","displayName":"Query Email Subscriptions Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"filter","type":"struct","doc":" Filter options.\n Currently, querying is supported on the `email` field\n with the `$in` array filter.\n"},{"name":"paging","type":"All APIs.Email Subscriptions._wix_common_Paging","doc":" Pagination options. For more information, see\n [Pagination](https://dev.wix.com/api/rest/getting-started/pagination).\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_QueryEmailSubscriptionsResponse","displayName":"Query Email Subscriptions Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"subscriptions","type":{"name":"array","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_EmailSubscription"]},"doc":" List of subscribed emails that matched the query options.\n"},{"name":"metadata","type":"All APIs.Email Subscriptions._wix_common_PagingMetadata","doc":" Metadata for the paginated results.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_UpsertEmailSubscriptionRequest","displayName":"Upsert Email Subscription Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"subscription","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_EmailSubscription","doc":" Email subscription to update or create.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_UpsertEmailSubscriptionResponse","displayName":"Upsert Email Subscription Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"subscription","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_EmailSubscription","doc":" Updated or created email subscription.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionRequest","displayName":"Bulk Upsert Email Subscription Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"subscriptions","type":{"name":"array","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_EmailSubscription"]},"doc":" List of email subscriptions to update or create.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionResponse_Metadata","displayName":"Metadata Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"totalSuccess","type":"integer","doc":" Number of successful actions.\n"},{"name":"totalFailure","type":"integer","doc":" Number of failed actions.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionResponse","displayName":"Bulk Upsert Email Subscription Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"results","type":{"name":"array","typeParams":["All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionResult"]},"doc":" List of updated or created email subscriptions.\n"},{"name":"metadata","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionResponse_Metadata","doc":" Numbers of successful and failed actions.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionResult_Error","displayName":"Error Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"errorCode","type":"string","doc":" Error code.\n"},{"name":"message","type":"string","doc":" Message that contains details about the error.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionResult","displayName":"Bulk Upsert Email Subscription Result Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"originalIndex","type":"integer","doc":" Position of the requested email subscription in the bulk array.\n"},{"name":"emailSubscription","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_EmailSubscription","doc":" New or updated email subscription.\n"},{"name":"error","type":"All APIs.Email Subscriptions._com_wixpress_emailsubscriptions_v1_BulkUpsertEmailSubscriptionResult_Error","doc":" Error information if the action failed.\n Omitted from successful actions.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_GenerateUnsubscribeLinkRequest","displayName":"Generate Unsubscribe Link Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"emailAddress","type":"string","doc":" Email address the unsubscribe link is for.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_GenerateUnsubscribeLinkResponse","displayName":"Generate Unsubscribe Link Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"link","type":"string","doc":" The unsubscribe link.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_SubscriptionEnum_Status","displayName":"Status Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> UNKNOWN <\/code><\/li><li><code> NOT_SET - No Subscription exists\n <\/code><\/li><li><code> PENDING - Pending Subscription\n <\/code><\/li><li><code> SUBSCRIBED - Subscribed\n <\/code><\/li><li><code> UNSUBSCRIBED - UnSubscribed\n <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["UNKNOWN","NOT_SET","PENDING","SUBSCRIBED","UNSUBSCRIBED"],"extra":{},"labels":[]},{"name":"_com_wixpress_emailsubscriptions_v1_DeliverabilityEnum_Status","displayName":"Status Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> NOT_SET <\/code><\/li><li><code> VALID - valid/deferral\n <\/code><\/li><li><code> BOUNCED - bounced/rejected/invalid\n <\/code><\/li><li><code> SPAM_COMPLAINT - spam/complaint\n <\/code><\/li><li><code> INACTIVE - valid, but no activity reported\n <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["NOT_SET","VALID","BOUNCED","SPAM_COMPLAINT","INACTIVE"],"extra":{},"labels":[]}],"extra":{"artifactId":"com.wixpress.email-subscriptions-app"}}