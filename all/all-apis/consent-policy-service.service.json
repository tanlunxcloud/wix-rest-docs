{"name":"Consent Policy Service","memberOf":"All APIs","category":"core","mixes":[],"labels":[],"docs":{"summary":"APIs for getting/setting the consent policy of our Users and the Users of Users","description":[]},"properties":[],"tags":[{"name":"Consent","entity":"_com_wixpress_common_cookie_consent_policy_api_v1_Consent"},{"name":"Policy","entity":"_com_wixpress_common_cookie_consent_policy_api_v1_Policy"},{"name":"API","entity":null}],"relatedGuides":[{"path":"../guides/consent-policy-service/docs/README.md","name":"Introduction"}],"operations":[{"name":"List Policies","methodName":"ListPolicies","serviceName":"CookieConsentPolicyService","tag":"API","permissions":[],"events":[],"labels":[],"nameParams":[],"params":[{"in":"QUERY","name":"paging.limit","type":"integer","doc":" The number of items to load\n","required":false},{"in":"QUERY","name":"paging.offset","type":"integer","doc":" number of items to skip in the current sort order\n","required":false},{"in":"QUERY","name":"dateRange.startDate","type":"string","doc":" Return policies that were created after this date (inclusive).\n","required":false},{"in":"QUERY","name":"dateRange.endDate","type":"string","doc":" Return policies that were created before this date (inclusive).\n","required":false}],"ret":{"type":{"name":"ListPolicies","statusCode":"200","typeParams":["All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_ListPoliciesResponse"]},"doc":""},"locations":[],"docs":{"summary":" Retrieves a list of consent policies, given the provided filters.\n\n> **Permissions**  \n> This endpoint requires the Manage Your App [permission scope](https://devforum.wix.com/en/article/available-permissions).\n \n","description":[],"request":"GET","url":"https://www.wixapis.com/privacy/api/v1/consent-policies","links":[],"examples":[{"title":"List Policies","body":["curl -X GET \\\n   'https://www.wixapis.com/privacy/v1/consent-policies?paging.limit=1&paging.offset=1&dateRange.startDate=1970-01-01T00:00:00Z' \\\n   -H 'Authorization: <AUTH>'"],"response":["{\n  \"consents\": [  {\n    \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36\",\n    \"timestamp\": \"2020-08-10T12:32:50.739Z\",\n    \"expiry\": \"2021-08-10T12:32:50.739Z\",\n    \"ip4\": \"x.x.119.242\",\n    \"location\": \"https://yanivh1.wixsite.com/mysite-17?lang=en\",\n    \"domain\": \"yanivh1.wixsite.com\",\n    \"consentee\":     {\n      \"visitorId\": \"f424d920-1701-4ec9-ac42-abbfaa4f7216\",\n      \"siteMemberId\": null,\n      \"userId\": null,\n      \"clientId\": null\n    },\n    \"metaSiteId\": \"4a9567b3-07e0-4fda-bb7b-b3183e2ca31f\",\n    \"policy\":     {\n      \"essential\": true,\n      \"functional\": true,\n      \"analytics\": true,\n      \"advertising\": true,\n      \"dataToThirdParty\": true\n    }\n  }],\n  \"metaData\":   {\n    \"count\": 1,\n    \"offset\": 1,\n    \"total\": 3,\n    \"tooManyToCount\": null\n  }\n} "],"type":"curl","extra":{"description":"Retrieves a list of consent policies, given the provided filters."}}],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"ListPoliciesRequest","rpcResponseName":"ListPoliciesResponse"},"customLabels":[{"id":"maturity-beta"}]},{"name":"List Policies (Additional Binding 1)","methodName":"ListPolicies","serviceName":"CookieConsentPolicyService","tag":"API","permissions":[],"events":[],"labels":[],"nameParams":[],"params":[{"in":"QUERY","name":"paging.limit","type":"integer","doc":" The number of items to load\n","required":false},{"in":"QUERY","name":"paging.offset","type":"integer","doc":" number of items to skip in the current sort order\n","required":false},{"in":"QUERY","name":"dateRange.startDate","type":"string","doc":" Return policies that were created after this date (inclusive).\n","required":false},{"in":"QUERY","name":"dateRange.endDate","type":"string","doc":" Return policies that were created before this date (inclusive).\n","required":false}],"ret":{"type":{"name":"ListPolicies","statusCode":"200","typeParams":["All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_ListPoliciesResponse"]},"doc":""},"locations":[],"docs":{"summary":" Retrieves a list of consent policies, given the provided filters.\n\n> **Permissions**  \n> This endpoint requires the Manage Your App [permission scope](https://devforum.wix.com/en/article/available-permissions).\n \n","description":[],"request":"GET","url":"https://www.wixapis.com/privacy/v1/consent-policies","links":[],"examples":[{"title":"List Policies","body":["curl -X GET \\\n   'https://www.wixapis.com/privacy/v1/consent-policies?paging.limit=1&paging.offset=1&dateRange.startDate=1970-01-01T00:00:00Z' \\\n   -H 'Authorization: <AUTH>'"],"response":["{\n  \"consents\": [  {\n    \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36\",\n    \"timestamp\": \"2020-08-10T12:32:50.739Z\",\n    \"expiry\": \"2021-08-10T12:32:50.739Z\",\n    \"ip4\": \"x.x.119.242\",\n    \"location\": \"https://yanivh1.wixsite.com/mysite-17?lang=en\",\n    \"domain\": \"yanivh1.wixsite.com\",\n    \"consentee\":     {\n      \"visitorId\": \"f424d920-1701-4ec9-ac42-abbfaa4f7216\",\n      \"siteMemberId\": null,\n      \"userId\": null,\n      \"clientId\": null\n    },\n    \"metaSiteId\": \"4a9567b3-07e0-4fda-bb7b-b3183e2ca31f\",\n    \"policy\":     {\n      \"essential\": true,\n      \"functional\": true,\n      \"analytics\": true,\n      \"advertising\": true,\n      \"dataToThirdParty\": true\n    }\n  }],\n  \"metaData\":   {\n    \"count\": 1,\n    \"offset\": 1,\n    \"total\": 3,\n    \"tooManyToCount\": null\n  }\n} "],"type":"curl","extra":{"description":"Retrieves a list of consent policies, given the provided filters."}}],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"ListPoliciesRequest","rpcResponseName":"ListPoliciesResponse"},"customLabels":[{"id":"maturity-beta"}]}],"events":[],"callbacks":[],"messages":[{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_Consent","displayName":"Consent Object","locations":[],"docs":{"summary":" The full consent policy with all included fields\n","links":[],"examples":[]},"members":[{"name":"userAgent","type":"string","doc":" The browser User Agent from which the request was sent, taken from the request\n","readOnly":true},{"name":"timestamp","type":"string","doc":" Policy signature timestamps.\n","readOnly":true},{"name":"expiry","type":"string","doc":" Policy expiration timestamps.\n","readOnly":true},{"name":"ip4","type":"string","doc":" Signer IP as identified in our system, in V4 format.\n","readOnly":true},{"name":"location","type":"string","doc":" URL from which this call was made (referer)\n","readOnly":true},{"name":"domain","type":"string","doc":" Domain from which this call was made (taken from referer / origin)\n","readOnly":true},{"name":"consentee","type":"All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_Consentee","doc":" All known IDs on this call in the browser at the time consent\n","readOnly":true},{"name":"metaSiteId","type":"string","doc":" MetaSite ID this call was made from (if one exists)\n","readOnly":true},{"name":"policy","type":"All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_Policy","doc":" Policy info.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_Consentee","displayName":"Consentee Object","locations":[],"docs":{"summary":"The information about the consentee at the time of signing\n","links":[],"examples":[]},"members":[{"name":"visitorId","type":"string","doc":" Visitor ID.\n"},{"name":"siteMemberId","type":"string","doc":" Member ID.\n"},{"name":"userId","type":"string","doc":" Wix User ID.\n"},{"name":"clientId","type":"string","doc":" Client ID of anonymous visitor on wix.com (Funnel Cases)\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_Policy","displayName":"Policy Object","locations":[],"docs":{"summary":" The  policy the user agreed to\n","links":[],"examples":[]},"members":[{"name":"essential","type":"boolean","doc":" Essential to website operation.\n"},{"name":"functional","type":"boolean","doc":" Related to performance and other functional measurements.\n"},{"name":"analytics","type":"boolean","doc":" Related to analytics about how the site is used in order to improve it.\n"},{"name":"advertising","type":"boolean","doc":" Related to allowing better customization of the experience to a current visitor.\n"},{"name":"dataToThirdParty","type":"boolean","doc":" CCPA compliance flag.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_common_Paging","displayName":"Paging Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"limit","type":"integer","doc":" The number of items to load\n"},{"name":"offset","type":"integer","doc":" number of items to skip in the current sort order\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_common_PagingMetadata","displayName":"Paging Metadata Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"count","type":"integer","doc":" The number of items returned in this response\n"},{"name":"offset","type":"integer","doc":" The offset which was requested\n"},{"name":"total","type":"integer","doc":" The total number of items that match the query\n"},{"name":"tooManyToCount","type":"boolean","doc":" A flag that indicates the server failed to calculate 'total' field\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_GetPoliciesRequest","displayName":"Get Policies Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"identity","type":"All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_GetPoliciesRequest_identity","doc":" ID to check\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_GetPoliciesRequest_identity","displayName":"identity Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"visitorId","type":"string","doc":" Visitor ID.\n"},{"name":"siteMemberId","type":"string","doc":" Member ID.\n"},{"name":"userId","type":"string","doc":" Wix User ID.\n"},{"name":"clientId","type":"string","doc":" Client ID of an anonymous visitor on wix.com (Funnel Cases).\n"}],"enum":null,"extra":{},"labels":[],"oneOf":true},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_GetPoliciesResponse","displayName":"Get Policies Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"consents","type":{"name":"array","typeParams":["All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_Consent"]},"doc":" Consent info.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_ListPoliciesRequest","displayName":"List Policies Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"paging","type":"All APIs.Consent Policy Service._wix_common_Paging","doc":" Paging info.\n"},{"name":"dateRange","type":"All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_DateRange","doc":" Policy creation date (optional).\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_DateRange","displayName":"Date Range Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"startDate","type":"string","doc":" Return policies that were created after this date (inclusive).\n"},{"name":"endDate","type":"string","doc":" Return policies that were created before this date (inclusive).\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_ListPoliciesResponse","displayName":"List Policies Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"consents","type":{"name":"array","typeParams":["All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_Consent"]},"doc":" Consent policies, limited to 100.\n"},{"name":"metaData","type":"All APIs.Consent Policy Service._wix_common_PagingMetadata","doc":" Metadata regarding pagination.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_SetPolicyRequest","displayName":"Set Policy Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"consentPolicy","type":"All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_Policy","doc":"Consent policy as defined by the user.\n"},{"name":"baseUrl","type":"string","doc":"Optional baseUrl if you have one - viewer use cases.\n"},{"name":"location","type":"string","doc":"Current URL in the browser when consent was set.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_com_wixpress_common_cookie_consent_policy_api_v1_SetPolicyResponse","displayName":"Set Policy Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"consent","type":"All APIs.Consent Policy Service._com_wixpress_common_cookie_consent_policy_api_v1_Consent","doc":" Full consent data including what we marked on the request\n"}],"enum":null,"extra":{},"labels":[]}],"extra":{"artifactId":"com.wixpress.proto.cookie-consent-policy-api"}}